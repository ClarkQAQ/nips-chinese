NIP-58
======

徽章
------

`草案` `可选`

三种特殊事件用于定义、颁发和在用户档案中显示徽章：

1. "徽章定义"事件定义为具有 `d` 标签的可寻址事件，种类为 `30009`，其值唯一标识徽章（例如 `bravery`），由徽章颁发者发布。徽章定义可以更新。

2. "徽章颁发"事件是种类 `8` 事件，具有单个 `a` 标签引用"徽章定义"事件和一个或多个 `p` 标签，每个徽章颁发者希望颁发的公钥一个。颁发的徽章是不可变和不可转让的。

3. "档案徽章"事件定义为种类 `30008` 的_可寻址事件_，具有值为 `profile_badges` 的 `d` 标签。
档案徽章包含要显示的每个徽章的 `a` 和 `e` 标签对的有序列表，引用 `徽章定义` 和 `徽章颁发`。

### 徽章定义事件

必须存在以下标签：

- 带有徽章唯一名称的 `d` 标签。

可能存在以下标签：

- 带有徽章简短名称的 `name` 标签。
- `image` 标签，其值是表示徽章的高分辨率图像的 URL。第二个值可选地指定图像的尺寸为像素中的 `width`x`height`。徽章推荐尺寸是 1024x1024 像素。
- `description` 标签，其值可能包含图像的文本表示、徽章背后的含义或其颁发原因。
- 一个或多个 `thumb` 标签，其第一个值是指向 `image` 标签中引用的图像缩略图版本的 URL。第二个值可选地指定缩略图的尺寸为像素中的 `width`x`height`。

### 徽章颁发事件

必须存在以下标签：

- 引用种类 `30009` 徽章定义事件的 `a` 标签。
- 引用每个被颁发公钥的一个或多个 `p` 标签。

### 档案徽章事件

公钥可以被颁发的徽章数量是无限的。档案徽章事件允许个人用户接受或拒绝颁发的徽章，以及选择其档案上徽章的显示顺序。

必须存在以下标签：

- 带有唯一标识符 `profile_badges` 的 `d` 标签

可能存在以下标签：

- 零个或多个有序连续的 `a` 和 `e` 标签对，分别引用种类 `30009` 徽章定义和种类 `8` 徽章颁发。客户端应该忽略没有相应 `e` 标签的 `a`，反之亦然。`e` 标签引用的徽章颁发应包含相同的 `a` 标签。

### 动机

用户可能被颁发徽章（但不限于）以表彰、感谢、参与或欣赏某个目标、任务或事业。

用户可能选择用来自他们认为有声誉的徽章颁发者的徽章来装饰他们的档案，以获得名声、声誉、认可、支持等。

### 建议

客户端可能将徽章颁发者（公钥）列入白名单，以确保为其用户保留有价值/特殊因素。

徽章图像推荐纵横比是 1:1，高分辨率尺寸为 1024x1024 像素。

徽章缩略图图像推荐尺寸是：512x512（xl）、256x256（l）、64x64（m）、32x32（s）和 16x16（xs）。

客户端可能选择渲染比用户在档案徽章事件中指定的更少的徽章，或用适合客户端主题的徽章图像和缩略图替换。

客户端应该尝试根据用户选择的徽章数量和可用空间渲染最合适的徽章缩略图。客户端应该尝试在用户操作（点击、轻触、悬停）时渲染高分辨率版本。

### 徽章定义事件示例

```jsonc
{
  "pubkey": "alice",
  "kind": 30009,
  "tags": [
    ["d", "bravery"],
    ["name", "勇敢勋章"],
    ["description", "颁发给表现出勇敢的用户"],
    ["image", "https://nostr.academy/awards/bravery.png", "1024x1024"],
    ["thumb", "https://nostr.academy/awards/bravery_256x256.png", "256x256"]
  ],
  // 其他字段...
}
```

### 徽章颁发事件示例

```jsonc
{
  "id": "<徽章颁发事件 ID>",
  "kind": 8,
  "pubkey": "alice",
  "tags": [
    ["a", "30009:alice:bravery"],
    ["p", "bob", "wss://relay"],
    ["p", "charlie", "wss://relay"]
  ],
  // 其他字段...
}
```

### 档案徽章事件示例

光荣的勇敢鲍勃：
```jsonc
{
  "kind": 30008,
  "pubkey": "bob",
  "tags": [
    ["d", "profile_badges"],
    ["a", "30009:alice:bravery"],
    ["e", "<勇敢徽章颁发事件 ID>", "wss://nostr.academy"],
    ["a", "30009:alice:honor"],
    ["e", "<荣誉徽章颁发事件 ID>", "wss://nostr.academy"]
  ],
  // 其他字段...
}
```
