NIP-02
======

关注列表
-----------

`最终` `可选`

一个特殊的种类为 `3` 的事件，意为"关注列表"，定义为具有 `p` 标签列表，每个标签对应一个正在关注的已知档案。

每个标签条目应包含档案的密钥、可以找到该密钥事件的中继器 URL（如果不需要可以设置为空字符串）、以及该档案的本地名称（或"宠物名"）（也可以设置为空字符串或不提供），即 `["p", <32字节十六进制密钥>, <主中继器URL>, <宠物名>]`。

`.content` 不被使用。

例如：

```jsonc
{
  "kind": 3,
  "tags": [
    ["p", "91cf9..4e5ca", "wss://alicerelay.com/", "alice"],
    ["p", "14aeb..8dad4", "wss://bobrelay.com/nostr", "bob"],
    ["p", "612ae..e610f", "ws://carolrelay.com/ws", "carol"]
  ],
  "content": "",
  // 其他字段...
}
```

每个发布的新关注列表都会覆盖过去的列表，因此它应该包含所有条目。中继器和客户端应该在收到新列表后立即删除过去的关注列表。

每当向现有列表添加新关注时，客户端应该将它们追加到列表末尾，以便按时间顺序存储。

## 用途

### 关注列表备份

如果有人相信中继器会将他们的事件存储足够长的时间，他们可以使用这种 kind-3 事件来备份他们的关注列表，并在不同设备上恢复。

### 档案发现和上下文增强

客户端可能依赖 kind-3 事件来显示正在浏览的档案所关注的人员列表；根据可能正在关注或浏览的其他人的关注列表制作关注建议列表；或在其他上下文中显示数据。

### 中继器共享

客户端可能发布一个关注列表，为每个关注对象提供好的中继器，以便其他客户端可以使用这些信息来更新他们的内部中继器列表（如果需要），从而增强抗审查性。

### 宠物名方案

这些关注列表的数据可以被客户端用来构建从其他人的关注列表派生的本地["宠物名"](http://www.skyhunter.com/marcs/petnames/IntroPetNames.html)表。这减轻了对全局人类可读名称的需求。例如：

用户有一个内部关注列表，其中包含

```json
[
  ["p", "21df6d143fb96c2ec9d63726bf9edc71", "", "erin"]
]
```

并收到两个关注列表，一个来自 `21df6d143fb96c2ec9d63726bf9edc71`，内容为

```json
[
  ["p", "a8bb3d884d5d90b413d9891fe4c4e46d", "", "david"]
]
```

另一个来自 `a8bb3d884d5d90b413d9891fe4c4e46d`，内容为

```json
[
  ["p", "f57f54057d2a7af0efecc8b0b66f5708", "", "frank"]
]
```

当用户看到 `21df6d143fb96c2ec9d63726bf9edc71` 时，客户端可以显示 _erin_；
当用户看到 `a8bb3d884d5d90b413d9891fe4c4e46d` 时，客户端可以显示 _david.erin_；
当用户看到 `f57f54057d2a7af0efecc8b0b66f5708` 时，客户端可以显示 _frank.david.erin_。
