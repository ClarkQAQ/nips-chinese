NIP-73
======

外部内容 ID
--------------------

`草案` `可选`

有一些已建立的全球内容标识符，如[图书 ISBN](https://en.wikipedia.org/wiki/ISBN)、[播客 GUID](https://podcastnamespace.org/tag/guid) 和[电影 ISAN](https://en.wikipedia.org/wiki/International_Standard_Audiovisual_Number)，在 nostr 事件中引用这些标识符很有用，这样客户端就可以查询与这些 ID 关联的所有事件。


`i` 标签用于引用这些外部内容 ID，`k` 标签表示外部内容 ID 种类，以便客户端可以查询特定种类的所有事件。

## 支持的 ID

| 类型                   | `i` 标签                                                    | `k` 标签                  |
| ---                    | ---                                                        | ---                      |
| URL                   | "`<URL，标准化，无片段>`"                         | "web"                    |
| 图书                  | "isbn:`<ID，无连字符>`"                             | "isbn"                   |
| 地理哈希              | "geo:`<地理哈希，小写>`"                               | "geo"                    |
| 电影                 | "isan:`<ID，无版本部分>`"                        | "isan"                   |
| 论文                 | "doi:`<ID，小写>`"                                    | "doi"                    |
| 标签               | "#`<主题，小写>`"                                    | "#"                      |
| 播客信息流          | "podcast:guid:`<guid>`"                                    | "podcast:guid"           |
| 播客集数       | "podcast:item:guid:`<guid>`"                               | "podcast:item:guid"      |
| 播客发布者     | "podcast:publisher:guid:`<guid>`"                          | "podcast:publisher:guid" |
| 区块链交易 | "`<区块链>`:[`<链ID>`:]tx:`<交易ID，十六进制，小写>`" | "`<区块链>`:tx"      |
| 区块链地址     | "`<区块链>`:[`<链ID>`:]address:`<地址>`"         | "`<区块链>`:address" |

---

## 示例


### 网页

对于网页 "https://myblog.example.com/post/2012-03-27/hello-world"，"i" 和 "k" 标签是：

```jsonc
[
  ["i", "https://myblog.example.com/post/2012-03-27/hello-world"],
  ["k", "web"]
]
```

### 图书：

- 图书 ISBN：`["i", "isbn:9780765382030"]` - https://isbnsearch.org/isbn/9780765382030

图书 ISBN 必须引用_**不带连字符**_，因为许多图书搜索 API 返回不带连字符的 ISBN。从 ISBN 中移除连字符很简单，而重新添加连字符是非平凡的，需要一个库。

### 播客：

- 播客 RSS 信息流 GUID：`["i", "podcast:guid:c90e609a-df1e-596a-bd5e-57bcc8aad6cc"]` - https://podcastindex.org/podcast/c90e609a-df1e-596a-bd5e-57bcc8aad6cc
- 播客 RSS 项目 GUID：`["i", "podcast:item:guid:d98d189b-dc7b-45b1-8720-d4b98690f31f"]`
- 播客 RSS 发布者 GUID：`["i", "podcast:publisher:guid:18bcbf10-6701-4ffb-b255-bc057390d738"]`

### 电影：

- 电影 ISAN：`["i", "isan:0000-0000-401A-0000-7"]` - https://web.isan.org/public/en/isan/0000-0000-401A-0000-7

电影 ISAN 应该引用_**不带版本部分**_，因为电影的版本/编辑不相关。有关 ISAN 部分的更多信息在这里 - https://support.isan.org/hc/en-us/articles/360002783131-Records-relations-and-hierarchies-in-the-ISAN-Registry

### 区块链

`<区块链>` 可以是任何第一层链（`bitcoin`、`ethereum`、`solana`、...）。如果需要（例如对于以太坊），您可以指定 `<链ID>`。

#### 比特币

```
bitcoin:address:<bech32，小写 | base58，区分大小写>
bitcoin:tx:<交易ID，十六进制，小写>
```

例如 https://blockstream.info/tx/a1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d

```jsonc
[
  ["i", "bitcoin:tx:a1075db55d416d3ca199f55b6084e2115b9345e16c5cf302fc80e9d5fbf5d48d"],
  ["k", "bitcoin:tx"]
]
```

例如 https://blockstream.info/address/1HQ3Go3ggs8pFnXuHVHRytPCq5fGG8Hbhx

```jsonc
[
  ["i", "bitcoin:address:1HQ3Go3ggs8pFnXuHVHRytPCq5fGG8Hbhx"],
  ["k", "bitcoin:address"]
]
```

#### 以太坊（和其他 EVM 链）

```
ethereum:<链ID，整数>:tx:<交易哈希，十六进制，小写>
ethereum:<链ID，整数>:address:<十六进制，小写>
```

例如 https://etherscan.io/address/0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045

```jsonc
[
  ["i", "ethereum:1:address:0xd8da6bf26964af9d7eed9e03e53415d37aa96045"],
  ["k", "ethereum:address"]
]
```

例如 https://gnosisscan.io/tx/0x98f7812be496f97f80e2e98d66358d1fc733cf34176a8356d171ea7fbbe97ccd

```jsonc
[
  ["i", "ethereum:100:tx:0x98f7812be496f97f80e2e98d66358d1fc733cf34176a8356d171ea7fbbe97ccd"],
  ["k", "ethereum:tx"]
]
```



---

### 可选 URL 提示

每个 `i` 标签可能有一个 URL 提示作为第二个参数，如果客户端对如何解释 ID 没有意见，则将人们重定向到网站：

`["i", "podcast:item:guid:d98d189b-dc7b-45b1-8720-d4b98690f31f", https://fountain.fm/episode/z1y9TMQRuqXl2awyrQxg]`

`["i", "isan:0000-0000-401A-0000-7", https://www.imdb.com/title/tt0120737]`
