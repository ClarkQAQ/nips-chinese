NIP-39
======

档案中的外部身份
-------------------------------

`草案` `可选`

## 摘要

Nostr 协议用户可能有其他在线身份，如用户名、档案页面、密钥对等，他们控制这些身份，他们可能希望将这些数据包含在他们的档案元数据中，以便客户端可以解析、验证和显示这些信息。

## 元数据事件上的 `i` 标签

为 [NIP-01](01_ZH.md) 中定义的 `kind 0` 元数据事件引入了一个新的可选 `i` 标签：

```jsonc
{
  "id": <id>,
  "pubkey": <pubkey>,
  "tags": [
    ["i", "github:semisol", "9721ce4ee4fceb91c9711ca2a6c9a5ab"],
    ["i", "twitter:semisol_public", "1619358434134196225"],
    ["i", "mastodon:bitcoinhackers.org/@semisol", "109775066355589974"]
    ["i", "telegram:1087295469", "nostrdirectory/770"]
  ],
  // 其他字段...
}
```

`i` 标签将有两个参数，定义如下：
1. `platform:identity`：这是平台名称（例如 `github`）和该平台上的身份（例如 `semisol`）用 `:` 连接在一起。
2. `proof`：指向拥有此身份证明的字符串或对象。

客户端应该处理任何具有超过 2 个值的 `i` 标签以实现未来的可扩展性。
身份提供者名称应该只包含 `a-z`、`0-9` 和字符 `._-/`，并且不得包含 `:`。
如果可能，身份名称应该通过将大写字母替换为小写字母来标准化，如果一个实体有多个别名，应该使用主要的那个。

## 声明类型

### `github`

身份：GitHub 用户名。

证明：GitHub Gist ID。此 Gist 应该由 `<identity>` 创建，包含一个文件，其中包含文本 `Verifying that I control the following Nostr public key: <npub 编码的公钥>`。
这可以在 `https://gist.github.com/<identity>/<proof>` 找到。

### `twitter`

身份：Twitter 用户名。

证明：Tweet ID。该推文应该由 `<identity>` 发布，并包含文本 `Verifying my account on nostr My Public Key: "<npub 编码的公钥>"`。
这可以在 `https://twitter.com/<identity>/status/<proof>` 找到。

### `mastodon`

身份：格式为 `<实例>/@<用户名>` 的 Mastodon 实例和用户名。

证明：Mastodon 帖子 ID。此帖子应该由 `<用户名>@<实例>` 发布，并包含文本 `Verifying that I control the following Nostr public key: "<npub 编码的公钥>"`。
这可以在 `https://<identity>/<proof>` 找到。

### `telegram`

身份：Telegram 用户 ID。

证明：格式为 `<ref>/<id>` 的字符串，指向在名为 `<ref>` 的公共频道或群组中发布的消息，消息 ID 为 `<id>`。此消息应该由用户 ID `<identity>` 发送，并包含文本 `Verifying that I control the following Nostr public key: "<npub 编码的公钥>"`。
这可以在 `https://t.me/<proof>` 找到。
