NIP-75
======

打赏目标
---------

`草案` `可选`

本 NIP 定义了创建筹款目标的事件。用户可以通过向目标事件打赏来为目标贡献资金。

## Nostr 事件

使用 `kind:9041` 事件。

`.content` 包含目标的人类可读描述。

以下标签定义为必需。

- `amount` - 目标金额（毫聪）。
- `relays` - 向此目标的打赏将发送到并从中统计的中继器列表。

示例事件：

```jsonc
{
  "kind": 9041,
  "tags": [
    ["relays", "wss://alicerelay.example.com", "wss://bobrelay.example.com", /*...*/],
    ["amount", "210000"],
  ],
  "content": "Nostrasia 旅行费用",
  // 其他字段...
}
```

以下标签是可选的。

- `closed_at` - 用于确定哪些打赏包含在统计中的时间戳。在 `closed_at` 时间戳之后发布的打赏收据不应计入目标进度。
- `image` - 目标的图像
- `summary` - 简要描述

```jsonc
{
  "kind": 9041,
  "tags": [
    ["relays", "wss://alicerelay.example.com", "wss://bobrelay.example.com", /*...*/],
    ["amount", "210000"],
    ["closed_at", "<以秒为单位的 unix 时间戳>"],
    ["image", "<图像 URL>"],
    ["summary", "<目标描述>"],
  ],
  "content": "Nostrasia 旅行费用",
  // 其他字段...
}
```

目标可能包含链接到 URL 或可寻址事件的 `r` 或 `a` 标签。

目标可能通过指定 [`zap` 标签](57_ZH.md#appendix-g-zap-tag-on-other-events) 包含多个受益人公钥。

可寻址事件可以通过使用指定事件 ID 和可选中继器提示的 `goal` 标签链接到目标。

```jsonc
{
  "kind": 3xxxx,
  "tags": [
    ["goal", "<事件 ID>", "<中继器 URL（可选）>"],
    // 其他标签...
  ],
  // 其他字段...
}
```

## 客户端行为

客户端可能在用户档案上显示筹款目标。

向目标事件打赏时，客户端必须在打赏请求 `relays` 标签中包含目标事件 `relays` 标签中的中继器。

向带有 `goal` 标签的可寻址事件打赏时，客户端应该在打赏请求的 `e` 标签中标记目标事件 ID。

## 用例

- 筹款客户端
- 向长篇帖子、徽章或直播等事件添加筹款目标
