NIP-03
======

事件的 OpenTimestamps 证明
--------------------------------------

`草案` `可选`

本 NIP 定义了一个 `kind:1040` 的事件，可以包含任何其他事件的 [OpenTimestamps](https://opentimestamps.org/) 证明：

```json
{
  "kind": 1040
  "tags": [
    ["e", <目标事件ID>, <中继器URL>],
    ["k", "<目标事件种类>"]
  ],
  "content": <base64编码的OTS文件数据>
}
```

- OpenTimestamps 证明必须证明引用的 `e` 事件 ID 作为其摘要。
- `content` 必须是包含至少一个比特币证明的 `.ots` 文件的完整内容。此文件应该包含一个**单独的**比特币证明（因为不需要超过一个有效证明，较少字节比较多字节更好），并且不引用"待定"证明，因为它们在此上下文中无用。

### 示例 OpenTimestamps 证明验证流程

使用 [`nak`](https://github.com/fiatjaf/nak)、[`jq`](https://jqlang.github.io/jq/) 和 [`ots`](https://github.com/fiatjaf/ots)：

```bash
~> nak req -i e71c6ea722987debdb60f81f9ea4f604b5ac0664120dd64fb9d23abc4ec7c323 wss://nostr-pub.wellorder.net | jq -r .content | ots verify
> using an esplora server at https://blockstream.info/api
- sequence ending on block 810391 is valid
timestamp validated at block [810391]
```
