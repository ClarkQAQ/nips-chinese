NIP-94
======

文件元数据
-------------

`草案` `可选`

此 NIP 的目的是允许共享文件的组织和分类。这样中继器可以以任何感兴趣的方式进行过滤和组织。有了这个，可以创建多种类型的文件共享客户端。不期望处理 `kind:1` 笔记的"社交"客户端或处理 `kind:30023` 文章的长格式客户端实现 NIP-94 支持。

## 事件格式

此 NIP 指定使用 `1063` 事件类型，在 `content` 中包含文件内容的描述，以及下面描述的标签列表：

* `url` 下载文件的 url
* `m` 指示文件数据类型的字符串。必须使用 [MIME 类型](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types)格式，并且应该是小写。
* `x` 包含文件的 SHA-256 十六进制编码字符串。
* `ox` 包含原始文件的 SHA-256 十六进制编码字符串，在上传服务器进行任何转换之前
* `size`（可选）文件大小（以字节为单位）
* `dim`（可选）文件大小（以像素为单位），格式为 `<宽度>x<高度>`
* `magnet`（可选）磁力文件的 URI
* `i`（可选）torrent 信息哈希
* `blurhash`（可选）在客户端加载文件时显示的 [blurhash](https://github.com/woltapp/blurhash)
* `thumb`（可选）具有相同纵横比的缩略图 url
* `image`（可选）具有相同尺寸的预览图片 url
* `summary`（可选）文本摘录
* `alt`（可选）用于可访问性的描述
* `fallback`（可选）零个或多个备用文件源，以防 `url` 失败
* `service`（可选）提供文件的服务类型（例如 [NIP-96](96.md)）

```jsonc
{
  "kind": 1063,
  "tags": [
    ["url",<文件URI字符串>],
    ["m", <MIME类型>],
    ["x", <SHA-256哈希>],
    ["ox", <SHA-256哈希>],
    ["size", <文件大小字节数>],
    ["dim", <文件像素大小>],
    ["magnet", <磁力URI> ],
    ["i", <torrent信息哈希>],
    ["blurhash", <值>],
    ["thumb", <缩略图URI字符串>, <SHA-256哈希>],
    ["image", <预览URI字符串>, <SHA-256哈希>],
    ["summary", <摘录>],
    ["alt", <描述>]
  ],
  "content": "<标题>",
  // 其他字段...
}
```

## 建议的用例

* 用于索引共享文件的中继器。例如，推广 torrent。
* 类似 pinterest 的客户端，人们可以分享他们的作品集并启发他人。
* 分发配置和软件更新的简单方法。
