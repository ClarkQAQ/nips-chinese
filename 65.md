NIP-65
======

中继器列表元数据
-------------------

`草案` `可选`

定义使用 `kind:10002` 的可替换事件来宣传用户通常**写入**的中继器和用户通常**读取**提及的中继器。

事件必须包含以中继器 URL 为值和可选的 `read` 或 `write` 标记的 `r` 标签列表。如果省略标记，中继器既是**读取**又是**写入**。

```jsonc
{
  "kind": 10002,
  "tags": [
    ["r", "wss://alicerelay.example.com"],
    ["r", "wss://brando-relay.com"],
    ["r", "wss://expensive-relay.example2.com", "write"],
    ["r", "wss://nostr-relay.example.com", "read"]
  ],
  "content": "",
  // 其他字段...
}
```

当**从**用户下载事件时，客户端应该使用该用户的**写入**中继器。

当下载**关于**用户的事件时，即用户被标记（提及）的地方，客户端应该使用用户的**读取**中继器。

发布事件时，客户端应该：

- 将事件发送到作者的**写入**中继器
- 将事件发送到每个被标记用户的所有**读取**中继器
- 将作者的 `kind:10002` 事件发送到事件发布的所有中继器

### 大小

客户端应该指导用户保持 `kind:10002` 列表较小（每个类别 2-4 个中继器）。

### 可发现性

客户端应该将作者的 `kind:10002` 事件传播到尽可能多的可行中继器，注意在任何时刻自然充当这些中继器列表的知名公共索引器的中继器（大多数其他客户端和用户连接到这些中继器以发布和获取这些列表）。
