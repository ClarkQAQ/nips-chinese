> __警告__  `不推荐`: 已被 [NIP-27](27_ZH.md) 取代

NIP-08
======

处理提及
-----------------

`最终` `不推荐` `可选`

本文档标准化了客户端对 `text_note` 内容中其他事件和公钥的内联提及的处理。

希望允许标记提及的客户端必须在用户开始输入特殊键（例如"@"）或按下某个按钮以包含提及等时显示自动完成组件或类似的功能——或者这些客户端可以想出其他方法来明确区分提及和普通文本。

一旦识别出提及，例如公钥 `27866e9d854c78ae625b867eefdfa9580434bc3e675be08d2acb526610d96fbe`，客户端必须使用标签 `p` 将该公钥添加到 `.tags` 中，然后用符号 `#[index]` 替换其文本引用（在 `.content` 内），其中"index"等于标签数组中相关标签的基于 0 的索引。

相同的过程适用于提及事件 ID。

接收到在其 `.content` 中有此类 `#[index]` 提及的 `text_note` 事件的客户端可以使用 `.tags` 数组中的实际内容与被提及的实际公钥或事件 ID 进行搜索和替换，在此过程中进行任何所需的上下文增强（例如，链接到公钥或显示提及事件内容的预览）。

当 `#[index]` 的 `index` 超出标签数组范围或指向不是 `e` 或 `p` 标签或未声明支持此符号的标签时，客户端不得执行此类替换或增强，而应将其显示为普通文本。
