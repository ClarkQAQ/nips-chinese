NIP-09
======

事件删除请求
----------------------

`草案` `可选`

一个种类为 `5` 的特殊事件，意为"删除请求"，定义为具有一个或多个 `e` 或 `a` 标签的列表，每个标签引用作者请求删除的事件。删除请求应该包含一个 `k` 标签，表示请求删除的每个事件的种类。

事件的 `content` 字段可以包含描述删除请求原因的文本笔记。

例如：

```jsonc
{
  "kind": 5,
  "pubkey": <事件创建者的32字节十六进制编码公钥>,
  "tags": [
    ["e", "dcd59..464a2"],
    ["e", "968c5..ad7a4"],
    ["a", "<种类>:<公钥>:<d-标识符>"],
    ["k", "1"],
    ["k", "30023"]
  ],
  "content": "这些帖子是意外发布的",
  // 其他字段...
}
```

中继器应该删除或停止发布任何与删除请求具有相同 `pubkey` 的引用事件。客户端应该隐藏或以其他方式指示引用事件的删除请求状态。

中继器应该无限期地继续发布/共享删除请求事件，因为客户端可能已经拥有要删除的事件。此外，客户端应该将删除请求事件广播到没有它的其他中继器。

当使用 `a` 标签时，中继器应该删除可替换事件的所有版本，直到删除请求事件的 `created_at` 时间戳。

## 客户端使用

客户端可以选择完全隐藏由有效删除请求事件引用的任何事件。这包括文本笔记、直接消息或其他尚未定义的事件种类。或者，他们可以显示事件以及图标或其他指示，表明作者已"否认"该事件。`content` 字段也可以用来替换已删除事件的内容，尽管用户界面应该清楚地指示这是删除请求原因，而不是原始内容。

客户端必须验证删除请求的 `e` 标签中引用的每个事件 `pubkey` 与删除请求 `pubkey` 相同，然后再隐藏或删除任何事件。中继器通常无法执行此验证，不应被视为权威。

客户端以他们选择的任何方式显示删除请求事件本身，例如，完全不显示，或显著通知。

客户端可以选择通知用户他们的删除请求不能保证删除，因为无法从所有中继器和客户端删除事件。

## 中继器使用

中继器可以验证删除请求事件仅引用与删除请求本身具有相同 `pubkey` 的事件，但这不是必需的，因为中继器可能不了解所有引用的事件。

## 删除请求的删除请求

对删除请求发布删除请求事件没有效果。客户端和中继器没有义务支持"取消删除请求"功能。
