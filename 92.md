NIP-92
======

媒体附件
-----------------

媒体附件（图片、视频和其他文件）可以通过在事件内容中包含 URL 以及匹配的 `imeta` 标签来添加到事件中。

`imeta`（"内联元数据"）标签可以添加有关事件内容中媒体 URL 的信息。每个 `imeta` 标签应该匹配事件内容中的一个 URL。客户端可以用丰富预览替换 imeta URL。

`imeta` 标签是可变参数的，每个条目都是一个空格分隔的键/值对。
每个 `imeta` 标签必须有一个 `url`，以及至少一个其他字段。`imeta` 可以包含
[NIP 94](./94.md) 指定的任何字段。每个 URL 应该只有一个 `imeta` 标签。

## 示例

```json
{
  "content": "更多图片元数据测试，不要介意我 https://nostr.build/i/my-image.jpg",
  "kind": 1,
  "tags": [
    [
      "imeta",
      "url https://nostr.build/i/my-image.jpg",
      "m image/jpeg",
      "blurhash eVF$^OI:${M{o#*0-nNFxakD-?xVM}WEWB%iNKxvR-oetmo#R-aen$",
      "dim 3024x4032",
      "alt 俯瞰哥斯达黎加海岸的风景照",
      "x <NIP 94中指定的sha256哈希>",
      "fallback https://nostrcheck.me/alt1.jpg",
      "fallback https://void.cat/alt1.jpg"
    ]
  ]
}
```

## 推荐的客户端行为

在新帖子期间上传文件时，客户端可以在文件上传并包含在帖子中后包含此元数据。

在帖子撰写期间粘贴 URL 时，客户端可以下载文件并在发送帖子之前添加此元数据。

客户端可以忽略与事件内容中的 URL 不匹配的 `imeta` 标签。
