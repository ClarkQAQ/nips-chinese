NIP-40
======

过期时间戳
--------------------

`草案` `可选`

`expiration` 标签使用户能够指定一个 Unix 时间戳，在该时间戳消息应该被认为已过期（由中继器和客户端），并且应该被中继器删除。

#### 规范

```
标签: expiration
值:
 - [以秒为单位的 UNIX 时间戳]: 必需
```

#### 示例

```json
{
  "pubkey": "<pub-key>",
  "created_at": 1000000000,
  "kind": 1,
  "tags": [
    ["expiration", "1600000000"]
  ],
  "content": "此消息将在指定时间戳过期并被中继器删除。\n",
  "id": "<event-id>"
}
```

注意：时间戳应该与 created_at 时间戳格式相同，并且应该被解释为消息应该被中继器删除的时间。

客户端行为
---------------

客户端应该使用 `supported_nips` 字段来了解中继器是否支持此 NIP。客户端不应该向不支持此 NIP 的中继器发送过期事件。

客户端应该忽略已过期的事件。

中继器行为
--------------

中继器可能不会在过期时立即删除过期消息，并且可能无限期地持久化它们。
中继器不应该向客户端发送过期事件，即使它们被存储。
中继器应该丢弃任何发布给它们的已过期事件。
过期时间戳不影响临时事件的存储。

建议的用例
-------------------

* 临时公告 - 此标签可用于发布临时公告。例如，活动组织者可以使用此标签发布关于即将到来的活动的公告。
* 限时优惠 - 此标签可被企业用来发布在一定时间后过期的限时优惠。例如，企业可以使用此标签发布仅在有限时间内可用的特殊优惠。

#### 警告
事件可能被第三方下载，因为它们在中继器上始终是公开可访问的。
所以不要将过期消息视为您的对话或其他用途的安全功能。
