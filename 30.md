NIP-30
======

自定义表情符号
------------

`草案` `可选`

自定义表情符号可以通过包含一个或多个 `"emoji"` 标签添加到 **kind 0**、**kind 1**、**kind 7**（[NIP-25](25_ZH.md)）和 **kind 30315**（[NIP-38](38_ZH.md)）事件中，格式为：

```
["emoji", <短代码>, <图像URL>]
```

其中：

- `<短代码>` 是为表情符号给定的名称，必须仅由字母数字字符和下划线组成。
- `<图像URL>` 是表情符号对应图像文件的 URL。

对于每个表情符号标签，客户端应该解析事件中的表情符号短代码（即"表情符号化"）如 `:shortcode:` 来显示自定义表情符号。

客户端可以允许用户通过在事件中包含 `:shortcode:` 标识符并添加相关的 `"emoji"` 标签来向事件添加自定义表情符号。

### Kind 0 事件

在 kind 0 事件中，`name` 和 `about` 字段应该被表情符号化。

```json
{
  "kind": 0,
  "content": "{\"name\":\"Alex Gleason :soapbox:\"}",
  "tags": [
    ["emoji", "soapbox", "https://gleasonator.com/emoji/Gleasonator/soapbox.png"]
  ],
  "pubkey": "79c2cae114ea28a981e7559b4fe7854a473521a8d22a66bbab9fa248eb820ff6",
  "created_at": 1682790000
}
```

### Kind 1 事件

在 kind 1 事件中，`content` 应该被表情符号化。

```json
{
  "kind": 1,
  "content": "Hello :gleasonator: 😂 :ablobcatrainbow: :disputed: yolo",
    "tags": [
    ["emoji", "ablobcatrainbow", "https://gleasonator.com/emoji/blobcat/ablobcatrainbow.png"],
    ["emoji", "disputed", "https://gleasonator.com/emoji/Fun/disputed.png"],
    ["emoji", "gleasonator", "https://gleasonator.com/emoji/Gleasonator/gleasonator.png"]
  ],
  "pubkey": "79c2cae114ea28a981e7559b4fe7854a473521a8d22a66bbab9fa248eb820ff6",
  "created_at": 1682630000
}
```

### Kind 7 事件

在 kind 7 事件中，`content` 应该被表情符号化。

```json
{
  "kind": 7,
  "content": ":dezh:",
  "tags": [
    ["emoji", "dezh", "https://raw.githubusercontent.com/dezh-tech/brand-assets/main/dezh/logo/black-normal.svg"]
  ],
  "pubkey": "79c2cae114ea28a981e7559b4fe7854a473521a8d22a66bbab9fa248eb820ff6",
  "created_at": 1682630000
}
```
